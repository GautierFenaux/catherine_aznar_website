<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <title>Document</title>
</head>

<body>
        <!-- <div class="container" id="container">

                <div class="box" id="box">
                        <div class="column">
                                <img src="/public/images/oeuvre_13.jpg" alt="">
                                <img src="/public/images/oeuvre_2.jpg" alt="">
                                <img src="/public/images/oeuvre_10.jpg" alt="">
                                <img src="/public/images/oeuvre_4.jpg" alt="">
                                <img src="/public/images/oeuvre_18.jpg" alt="">
                                <img src="/public/images/oeuvre_18.jpg" alt="">
                                <img src="/public/images/oeuvre_18.jpg" alt="">
                        </div>

                        <div class="column">
                                <img src="/public/images/oeuvre_3.jpg" alt="">
                                <img src="/public/images/oeuvre_11.jpg" alt="">
                                <img src="/public/images/oeuvre_12.jpg" alt="">
                                <img src="/public/images/oeuvre_13.jpg" alt="">
                                <img src="/public/images/oeuvre_18.jpg" alt="">

                        </div>


                        <div class="column">

                                <img src="/public/images/oeuvre_4.jpg" alt="">
                                <img src="/public/images/oeuvre_7.jpg" alt="">
                                <img src="/public/images/oeuvre_8.jpg" alt="">
                                <img src="/public/images/oeuvre_9.jpg" alt="">
                                <img src="/public/images/oeuvre_18.jpg" alt="">

                        </div>

                        <div class="column">

                                <img src="/public/images/oeuvre_19.jpg" alt="">
                                <img src="/public/images/oeuvre_17.jpg" alt="">
                                <img src="/public/images/oeuvre_18.jpg" alt="">
                                <img src="/public/images/oeuvre_19.jpg" alt="">

                                <img src="/public/images/oeuvre_18.jpg" alt="">
                                <img src="/public/images/oeuvre_18.jpg" alt="">

                        </div>

                        <div class="column">

                                <img src="/public/images/oeuvre_18.jpg" alt="">
                                <img src="/public/images/oeuvre_17.jpg" alt="">
                                <img src="/public/images/oeuvre_18.jpg" alt="">
                                <img src="/public/images/oeuvre_19.jpg" alt="">
                                <img src="/public/images/oeuvre_19.jpg" alt="">
                        </div>

                </div>
        </div> -->



        <main>
                <div class="header">
                       
                </div>
                <div class="container"></div>
        </main>


</body>
<script src="items.js"></script>
<script>

        // const container = document.querySelector('.box')
        // const previousContent = container.innerHTML


        // container.innerHTML = ''



        
        const container = document.querySelector('.container')

        function generateMansoryGrid(columns, posts) {
                container.innerHTML = ''
                let columnWrappers = {}

                for (let i = 0; i < columns; i++) {
                        columnWrappers[`column${i}`] = []
                }
                console.log(columnWrappers);
                // stock les images dans les colonnes
                for (let i = 0; i < posts.length; i++) {
                        const column = i % columns
                        columnWrappers[`column${column}`].push(posts[i])
                }

                for (let i = 0; i < columns; i++) {
                        let columnPosts = columnWrappers[`column${i}`];
                        let column = document.createElement('div')
                        column.classList.add('column')

                        columnPosts.forEach(post => {
                                let postDiv = document.createElement('div')
                                postDiv.classList.add('post')
                                let image = document.createElement('img')
                                image.src = post.image;
                                let overlay = document.createElement('div')
                                overlay.classList.add('overlay')
                                let title = document.createElement('h3')
                                title.innerText = post.title

                                // overlay.appendChild(title)

                                postDiv.append(overlay, image)
                                column.appendChild(postDiv)
                        })
                        container.appendChild(column)
                }

                console.log(columnWrappers)
        }

        let previousScreenSize = window.innerWidth;

        window.addEventListener('resize', () => {
                imageIndex = 0

                if(window.innerWidth < 600 && previousScreenSize >= 600) {
                        generateMansoryGrid(1, posts)
                } else if(window.innerWidth  >= 600 && window.innerWidth < 1000 && (previousScreenSize < 600 || previousScreenSize >= 1000)) {
                        generateMansoryGrid(2, posts)
                }
                else if (window.innerWidth >= 1000) {
                        generateMansoryGrid(4, posts)
                } else if(window.innerWidth >= 1000 && previousScreenSize < 1000) {
                        generateMansoryGrid(4, posts)
                } 

        })

        // generateMansoryGrid(4, posts)

        if(previousScreenSize < 600) {
                generateMansoryGrid(1, posts)
        } else if(previousScreenSize >= 600  && previousScreenSize < 1000) {
                generateMansoryGrid(2, posts)
        } else {
                generateMansoryGrid(4, posts)
        }


</script>

</html>